(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"e/ZQ":function(e,o,t){"use strict";t.d(o,"a",(function(){return s}));var n=t("8Y7J"),r=t("s7LF"),s=function(){function e(e,o){this.activeModal=e,this.bookService=o,this.saved=new n.m}return e.prototype.ngOnInit=function(){this.newBookForm=new r.h({title:new r.e("",[r.s.required]),author:new r.e("",[r.s.required]),description:new r.e("",[r.s.required]),bookImage:new r.e("",[r.s.required])})},e.prototype.getBookImage=function(e){var o=this,t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){return o.bookImage=n.result.toString()}},e.prototype.addBook=function(){var e=this.newBookForm.value;e.bookImage=this.bookImage,this.bookService.addBook(e)&&this.saved.emit(!0)},e}()},hPJE:function(e,o,t){"use strict";t.d(o,"a",(function(){return s}));var n=t("8Y7J"),r=t("f2kA"),s=function(){var e=function(){function e(e){this.userService=e}return e.prototype.getAllBooks=function(){return JSON.parse(localStorage.getItem("books"))||[]},e.prototype.saveBookInMemory=function(e){localStorage.setItem("books",JSON.stringify(e))},e.prototype.deleteBook=function(e){var o=this.getAllBooks(),t=o.findIndex((function(o){return o.id==e}));o.splice(t,1),this.saveBookInMemory(o)},e.prototype.addBook=function(e){var o=this.getAllBooks(),t=Object.assign({},e,{id:o?o.reduce((function(e,o){return o.id>e?o.id+1:e+1}),1):1,dateCreated:new Date(Date.now())});return o.push(t),this.saveBookInMemory(o),{status:"Success",message:"book created successfully"}},e.prototype.updateBook=function(e){var o=this.getAllBooks(),t=o.findIndex((function(o){return o.id==e.id})),n=Object.assign({},e);return o.splice(t,1,n),this.saveBookInMemory(o),{status:"Success",message:"book updated successfully"}},e.prototype.getAllLentBooks=function(){return JSON.parse(localStorage.getItem("lentbooks"))||[]},e.prototype.saveLentBooksInMemory=function(e){localStorage.setItem("lentbooks",JSON.stringify(e))},e.prototype.lendBook=function(e){var o=this,t=this.getAllLentBooks();return e.userIds.forEach((function(n){if(!t.find((function(o){return o.userId==n&&o.bookId==e.bookId}))){var r={bookId:e.bookId,userId:n,numberLent:1,id:t?t.reduce((function(e,o){return o.id>e?o.id+1:e+1}),1):1,dateLent:new Date(Date.now())};t.push(r),o.saveLentBooksInMemory(t)}})),{status:"Success",message:"book lended successfully"}},e.prototype.getLentUsersByBookId=function(e){var o=this.userService.getAllUsers();return this.getAllLentBooks().filter((function(o){return o.bookId==e})).map((function(e){var t=o.find((function(o){return e.userId==o.id}));return e.user=t,e}))},e}();return e.ngInjectableDef=n.Pb({factory:function(){return new e(n.Qb(r.a))},token:e,providedIn:"root"}),e}()}}]);